local player = game.Players.LocalPlayer  
local character = player.Character or player.CharacterAdded:Wait()  
local humanoid = character:WaitForChild("Humanoid")

local flying = false  
local speed = 16

local function fly()  
    if not flying then  
        humanoid.WalkSpeed = speed  
        humanoid.JumpPower = 50  
        flying = true  
        print("flying enabled")  
    else  
        humanoid.WalkSpeed = 16  
        humanoid.JumpPower = 50  
        flying = false  
        print("flying disabled")  
    end  
end

local function speedToggle()  
    if speed == 16 then  
        speed = 32  
        print("speed increased")  
    else  
        speed = 16  
        print("speed decreased")  
    end  
    if flying then  
        humanoid.WalkSpeed = speed  
    end  
end

local ui = game.CoreGui  
local screenGui = Instance.new("ScreenGui")  
screenGui.Parent = ui

local flyButton = Instance.new("TextButton")  
flyButton.Parent = screenGui  
flyButton.Text = "Fly"  
flyButton.Position = Vector2.new(10, 10)  
flyButton.MouseButton1Click:Connect(fly)

local speedButton = Instance.new("TextButton")  
speedButton.Parent = screenGui  
speedButton.Text = "Speed Toggle"  
speedButton.Position = Vector2.new(10, 50)  
speedButton.MouseButton1Click:Connect(speedToggle)

game:GetService("RunService").RenderStepped:Connect(function()  

    if flying then  
        if game.UserInputService:IsJumpPressed() then  
            character.HumanoidRootPart.Velocity = Vector3.new(0, 20, 0)  
        end  
    end  
end)  
